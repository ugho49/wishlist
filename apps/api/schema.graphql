# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type HealthOutput {
  status: HealthStatus!
}

enum HealthStatus {
  ERROR
  OK
  SHUTTING_DOWN
}

type FieldValidationError {
  field: String!
  message: String!
}

type Pagination {
  totalPages: Int!
  totalElements: Int!
  pageNumber: Int!
  pageSize: Int!
}

type User {
  id: String!
  firstName: String!
  lastName: String!
  email: String!
  pictureUrl: String
  birthday: String
  isEnabled: Boolean!
  createdAt: String!
  updatedAt: String!
  socials: [UserSocial!]
}

type UserSocial {
  id: String!
  email: String!
  name: String
  socialType: String!
  pictureUrl: String
  createdAt: String!
  updatedAt: String!
}

type Item {
  id: String!
  name: String!
  description: String
  url: String
  score: Float
  isSuggested: Boolean
  pictureUrl: String
  takenById: String
  takenAt: String
  createdAt: String!
  takerUser: User
}

type Event {
  id: String!
  title: String!
  description: String
  icon: String
  eventDate: String!
  wishlistIds: [String!]!
  attendeeIds: [String!]!
  createdAt: String!
  updatedAt: String!
  wishlists: [Wishlist!]!
  attendees: [EventAttendee!]!
}

type EventAttendee {
  id: String!
  userId: String
  pendingEmail: String
  role: AttendeeRole!
  user: User
}

enum AttendeeRole {
  MAINTAINER
  USER
}

type WishlistConfig {
  hideItems: Boolean!
}

type Wishlist {
  id: String!
  title: String!
  description: String
  logoUrl: String
  ownerId: String!
  coOwnerId: String
  eventIds: [String!]!
  items: [Item!]!
  config: WishlistConfig!
  createdAt: String!
  updatedAt: String!
  owner: User!
  coOwner: User
  events: [Event!]!
}

type Query {
  health: HealthOutput!
  getCurrentUser: GetCurrentUserResult!
  getWishlistById(id: String!): GetWishlistByIdResult
  getMyWishlists(filters: PaginationFilters!): GetMyWishlistsResult!
  getEventById(id: String!): GetEventByIdResult
  getMyEvents(filters: EventPaginationFilters!): GetMyEventsResult!
}

union GetCurrentUserResult = User | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

type UnauthorizedRejection implements Rejection {
  message: String!
}

"""Base interface for all rejection types"""
interface Rejection {
  message: String!
}

type ForbiddenRejection implements Rejection {
  message: String!
}

type InternalErrorRejection implements Rejection {
  message: String!
}

union GetWishlistByIdResult = Wishlist | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

union GetMyWishlistsResult = WishlistPagedResponse | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

type WishlistPagedResponse {
  resources: [Wishlist!]!
  pagination: Pagination!
}

input PaginationFilters {
  page: Int = 1
  limit: Int = 10
}

union GetEventByIdResult = Event | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

union GetMyEventsResult = EventOutputPagedResponse | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

type EventOutputPagedResponse {
  resources: [Event!]!
  pagination: Pagination!
}

input EventPaginationFilters {
  page: Int = 1
  limit: Int = 10
  onlyFuture: Boolean
}

type Mutation {
  login(input: LoginInput!): LoginResult!
  loginWithGoogle(input: LoginWithGoogleInput!): LoginWithGoogleResult!
  registerUser(input: RegisterUserInput!): RegisterUserResult!
  linkCurrentUserlWithGoogle(input: LinkUserToGoogleInput!): LinkUserToGoogleResult!
  unlinkCurrentUserSocial(socialId: String!): VoidResult!
  updateUserProfile(input: UpdateUserInput!): UpdateUserResult!
}

union LoginResult = LoginOutput | ValidationRejection | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

type LoginOutput {
  accessToken: String!
}

type ValidationRejection implements Rejection {
  message: String!
  errors: [FieldValidationError!]!
}

input LoginInput {
  email: String!
  password: String!
}

union LoginWithGoogleResult = LoginWithGoogleOutput | ValidationRejection | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

type LoginWithGoogleOutput {
  accessToken: String!
  newUserCreated: Boolean
  linkedToExistingUser: Boolean
}

input LoginWithGoogleInput {
  code: String!
  createUserIfNotExists: Boolean!
}

union RegisterUserResult = User | ValidationRejection | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

input RegisterUserInput {
  firstname: String!
  lastname: String!
  email: String!
  password: String!
  birthday: String
}

union LinkUserToGoogleResult = UserSocial | ValidationRejection | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

input LinkUserToGoogleInput {
  code: String!
}

union VoidResult = VoidOutput | ValidationRejection | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

type VoidOutput {
  success: Boolean!
}

union UpdateUserResult = User | ValidationRejection | UnauthorizedRejection | ForbiddenRejection | InternalErrorRejection

input UpdateUserInput {
  firstname: String!
  lastname: String!
  birthday: String
}